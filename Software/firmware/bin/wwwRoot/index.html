<!DOCTYPE html>
<html>

<head>
   
   <title>PHI Admin Console</title>

   <!-- This block will be have values dynamically filled in by PHI --> 
   <script id="phi_vars">
      var PHI_VARS = {
        "hostName"       : "",
        "ipAddr"         : "",
        "battLevel"      : "",
        "upTime"         : ""        // no comma on last one!
      };
   </script>

   <script>
      
      function jsonReplyListener () {
        
        // alert("received JSON reply");
        
        if (this.readyState === 4) {
          if (this.status === 200) {
            alert(this.responseText);
          } else {
            alert('There was a problem with the JSON request.');
          }
        }
      }
      
      function sendJsonRequest(json) {

        // alert("sending JSON request");

        var httpRequest;

        if (window.XMLHttpRequest) {
          // Mozilla, Safari, ...
          httpRequest = new XMLHttpRequest();
        } else if (window.ActiveXObject) {
          // IE
          try {
            httpRequest = new ActiveXObject("Msxml2.XMLHTTP");
          } 
          catch (e) {
            try {
              httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } 
            catch (e) {}
          }
        }

        if (!httpRequest) {
          alert('error: cannot create an XMLHTTP instance');
          return false;
        }

        httpRequest.onreadystatechange = jsonReplyListener;

        httpRequest.open('POST', "postJson");
        httpRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        httpRequest.setRequestHeader("Content-length", json.length);
        httpRequest.setRequestHeader("Connection", "close");
        httpRequest.setRequestHeader("Content-type", "application/json");
        
        httpRequest.send(json);
      }

      function buttonPressed() {
        sendJsonRequest("globalData : {\ncmd : getVersion\n}");
      }

   </script>
      
</head>

<body>

   <table>
      
      <tr>
         <td>
            <!-- Icon -->
            <img src="./images/phi_letter.jpg" height=150 width=150> </img>
         </td>
         <td>
            <!-- Title -->
            <img src="./images/phi_text.jpg" height=80> </img>
            <img src="./images/phi_text.jpg"height=80> </img>
            <img src="./images/phi_text.jpg"height=80> </img>
            <img src="./images/phi_text.jpg"height=80> </img>
            <img src="./images/phi_text.jpg"height=80> </img>
            </br>
            <h1> &nbsp; Admin Console </h1>
         </td>
      </tr>
      
      <tr>
         <td>
            <!-- Navigation -->
            buttons
         </td>
         <td style="padding: 20px;">
            
 <!-- MAIN PANE -->
            
<h1> PHI says HI</b> </h1>

TEST: </p>

<table>
   
   <tr> 
      <td>hostname</td>
      <td>=</td>
      <td>&nbsp; <script>document.write(PHI_VARS.hostName); </script></td>
   </tr>
   
   <tr>
      <td>ipAddr</td>
      <td>=</td>
      <td>&nbsp; <script> document.write(PHI_VARS.ipAddr); </script></td>
   </tr>
   
</table>

</br>
<input type="button" onclick="buttonPressed()" value="Get Version">

 <!-- END OF MAIN PANE -->

         </td>
      </tr>
   </table>
   
</body>
</html>